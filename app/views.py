"""Definition of views."""from django.shortcuts import render, redirectfrom django.http import HttpRequestfrom django.http import HttpResponsefrom django.http import JsonResponsefrom django.contrib.auth import authenticatefrom django.contrib.auth import login as log from django.contrib.auth import logout as lgoutfrom django.contrib import messagesfrom django.contrib.auth.decorators import login_requiredfrom .models import *from .forms import *import logginglogger = logging.getLogger('mylogs')def login(request):                      """Renders the home page."""    if request.user.is_authenticated:       return render(request, 'app/menu.html')    if request.POST.get('log'):        username = request.POST['username']        password = request.POST['password']        user = authenticate(request, username=username, password=password)        if user is not None:            log(request, user)            # Redirect to a success page.            return render(request, 'app/menu.html')        else:            # Return an 'invalid login' error message.            messages.error(request,'username or password not correct')            return redirect('login')                      return render(request, 'app/login.html')@login_requireddef menu(request):    return render(request, "app/menu.html")@login_requireddef update_menu(request):    return render(request, "app/tabs/update_menu.html")def logout(request):    lgout(request)@login_requireddef building_add(request):    #Заказчик в селект    posts1 = list(Customers.objects.all().values_list("name", flat=True))       #Типы улиц    posts4 = list(Streets.objects.order_by().values_list('type', flat=True).distinct())    #Финансирование    posts5 = list(Financing.objects.order_by().values_list('name', flat=True))        if request.method == 'POST':        #Комплекс        classType = request.POST.get('class-select', None)  #класс        complexName = request.POST.get('complex-name', None)  #Название        streetType = request.POST.get('type-streets', None)  #тип        streetName = request.POST.get('name-streets', None)  #Наименование        customerName = request.POST.get('customer', None)  #Заказчик        builderName = request.POST.get('builder', None)  #Генподрядчик        zoneName = request.POST.get('urban-zone', None)  #Зона        subwayName = request.POST.get('subway', None)  #Метрополитен        cityAreaName = request.POST.get('city-area', None)  #Бытовой район        parkingExist = request.POST.get('parking', None)  #Парковка        parkingNum = request.POST.get('num-parking-up1', None)  #Парковка(мест)        parkingPriceHrn = request.POST.get('price-parking-up-hrn1', None)  #Стоимость        parkingPriceDol = request.POST.get('price-parking-up-dol1', None)  #Стоимость        complexAdd = Buildings(class_field = classType, name = complexName, street_type = streetType, street_name = streetName, customer = customerName,                                builder = builderName, urban_develop_zone = zoneName, subway = subwayName, city_area = cityAreaName, parking = parkingExist,                                parking_num = parkingNum, parking_price_hrn = parkingPriceHrn, parking_price_dol = parkingPriceDol)        complexAdd.save()           return render(request, "app/tabs/subtabs/building_add.html", {"posts1": posts1, "posts4": posts4, "posts5": posts5 } )def getStreets(request):    streets = list(Streets.objects.filter(type = request.GET.get('type')).values_list("name", flat=True))    #Here is where I don't know if I am doing correctly    #I don't know how to send the client list or if I have to send it as a JSON    #Please help here    return JsonResponse({ 'names': streets }, status=200)def getSubways(request):    subways = list(Subways.objects.filter(zone = request.GET.get('zone')).values_list("name", flat=True))    #Here is where I don't know if I am doing correctly    #I don't know how to send the client list or if I have to send it as a JSON    #Please help here    return JsonResponse({ 'names': subways }, status=200)def getCityAreas(request):    cityAreas = list(Areas.objects.filter(zone = request.GET.get('zone')).values_list("name", flat=True))    #Here is where I don't know if I am doing correctly    #I don't know how to send the client list or if I have to send it as a JSON    #Please help here    return JsonResponse({ 'names': cityAreas }, status=200)